(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["transaction"],{1818:function(t,e,n){},"1ace":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAEXElEQVRYR7WZXWwUVRTH/2d2Jjt3t+2WUpI1sdiiVh71zScffDN+RIEYMUp89A2CD23EAKYqajEYEz/RKkRpUQhN6kdioolUaEhB8AVFhQaIscWmsUs7d3bb3mPudneztLvduTPbm0yyM3s+fnPu3nvuOUsIOXzfv1sp9QiA+4koDeC2wqUt/lO8mPmMZVlDruv+FcYVmSjNzMykbdvewcxPAOg00SWiS0qpQaXUgYaGhomguoEAmbnR87xuy7K2A0gGNV5JjohmmPlt13V7iShTy1ZNQCnlc8y8n4jW1jJm+P0kgC4hRN9KelUBmZmklPotXzB0bCRORL3xeLyLiLhixCs9ZGY3m81+zsybjbyFFCaiY/F4/Fki8peaqBhBKWU/gKdC+gur1i+EeLomoJTyRQCvhvUSRY+ZuxOJxBvlNm6J4Ozs7OOWZR0HYJk66v3extUpCz2P5bAmYapdkl9QSm1JJpODxSclQGZuklJeJqLWMOY/G7FxZNTG+haF/ZtyaA4JycyTQoh2IprVHCVAKeUeAHvDwGkdZuCDYRsnLthob1F4MwIkgN1CiJ4SYCaTaXUcR6eiVFjAekIy839zc3N3plKpqXwEpZQ6cjqCkUcdI5mPYh7Q87zzRHRvZLqCgXpAMvOFRCJxn84W7QCulP8e6wFaDtmxdvE3mRJGlnVm2UC+72/XydtINaBwVEgi2qEjeAjAtoA+jcUiQh7WgD8AeNDYs4FCBMgfNeBvADYa+AslGhLyogacBtAUyquhkoZ8/6SNwV9tbGhdXDhNbnUjej+sCrh7yMGVSeOUHAj5xs3FBHbXOoX3tuZW0slowEuV6os9Xzu4/O/qAE7OEBQDtzcrHHwmh1h1N39owJ8APBDo1esg9OW5GD4+5aBtjULvphxaVq5wTmrAowCerIPvmiYGzsbQdzownLY3QNlstksp9XpN6xEF+kdj+HTECA75jTqTyWx0HEdvNas2Do3Y+GLUDjqtRY7FVKfvVnMv7DttY+CsMRxKhwUN6HnePiLqrncIPzll4+g5c7gCx14hxMv5CE5PT7c4jqOP+831gjz4s42vfglXAiw7sBamuW7V3EfDNo6dDwdXCNAuIcRr+nOpJhkfH0+mUqk/yzpUoYL54bCN49Hg/nZdt5OIvFsA9Y3v+w8x8xCAmCld+WEgQmW3QESPuq77XdH/ss6ClFIvln2mgMWyU2eItzaHKztrFu5FKM/zjhDRVhPInm8dXJ2ifPoKWbgHa31oKGYWUsrDRLTFBDKsbKF5tI2I5FIbK/YHC9Ot+zSrc6wBFgC8JISommprNjB933+Ymd8FcEfYCFXRu0ZEz5cviEpyNQG10tjYmJtOp3cC0AuoMSLoTWZ+ZWJi4p2Ojo5l/UCjKV4qzMzrpJQ7iUg30e8xBNUH4xPz8/MHGhsbbwTVDRTBSsZ83+/Uf0NYltXJzOsBtBFRW2GRXQdwnYiuAfgdwDeu6+okYDz+BwIz/2l7ccIxAAAAAElFTkSuQmCC"},"2bc3":function(t,e){t.exports="data:image/png;base64,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"},3122:function(t,e,n){"use strict";n("1818")},5942:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:"none"!==t.state,expression:"state !== 'none'"}],staticClass:"transaction-state"},[n("before",{directives:[{name:"show",rawName:"v-show",value:["approve","approved"].includes(t.state),expression:"['approve', 'approved'].includes(state)"}],attrs:{state:t.state,from:t.from,to:t.to},on:{exchange:t.exchange}}),n("in",{directives:[{name:"show",rawName:"v-show",value:"in"===t.state,expression:"state === 'in'"}],attrs:{from:t.from,to:t.to,min:t.min,slipPoint:t.slipPoint,toPrice:t.toPrice,fromPrice:t.fromPrice}}),n("after",{directives:[{name:"show",rawName:"v-show",value:"done"===t.state,expression:"state === 'done'"}],attrs:{from:t.from,to:t.to},on:{close:t.close}})],1)},a=[],s=(n("a9e3"),n("d3b7"),{components:{before:function(){return n.e("chunk-7a6074ff").then(n.bind(null,"343f"))},in:function(){return n.e("chunk-3ec96475").then(n.bind(null,"dc88"))},after:function(){return n.e("chunk-58ddc110").then(n.bind(null,"ce84"))}},props:{state:{type:String,require:!0},from:{type:Object,require:!0},to:{type:Object,require:!0},slipPoint:{type:String,require:!0},min:Number,toPrice:{type:[String,Number],require:!0},fromPrice:{type:[String,Number],require:!0}},data:function(){return{}},methods:{exchange:function(){this.$emit("exchange")},close:function(){this.$emit("close")}}}),i=s,r=i,c=(n("3122"),n("2877")),u=Object(c["a"])(r,o,a,!1,null,"d647cc90",null);e["default"]=u.exports},"88a3":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"transaction"},[o("div",{staticClass:"exchangeAndliquidity"},[o("div",[o("div",{class:t.liquidity?"":"active",on:{click:function(e){t.liquidity=!1}}},[t._v(t._s(t.$t("transaction.text5")))]),o("div",{class:t.liquidity?"active":"",on:{click:function(e){t.liquidity=!0}}},[t._v(t._s(t.$t("transaction.text18")))])])]),o("JoinFundPool",{directives:[{name:"show",rawName:"v-show",value:t.liquidity,expression:"liquidity"}]}),o("div",{directives:[{name:"show",rawName:"v-show",value:!t.liquidity,expression:"!liquidity"}],staticClass:"exchange-container"},[o("div",{staticClass:"exchange-box"},[o("div",{staticClass:"exchange"},[o("div",{staticClass:"input"},[o("van-field",{attrs:{type:"number",placeholder:t.$t("transaction.text1")},on:{input:t.input},model:{value:t.token0Amount,callback:function(e){t.token0Amount=e},expression:"token0Amount"}}),o("i"),o("div",{staticClass:"select",on:{click:function(e){return t.openSearch("token0")}}},[o("img",{attrs:{src:t.token0.logo}}),o("div",[o("span",{domProps:{textContent:t._s(t.token0.symbol)}}),o("img",{attrs:{src:n("9283")}})])])],1),o("div",{staticClass:"balance"},[o("div",{staticClass:"slider"},[o("span",[t._v(t._s(t.$t("transaction.text2"))+" "+t._s(t.balance))]),o("van-slider",{attrs:{min:"0",max:"100",step:"1","button-size":"12","active-color":"#3D8BFF","inactive-color":"#E4E4E4"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),o("div",{staticClass:"slider-num"},[o("span",{on:{click:function(e){t.value=0}}},[t._v("0")]),o("span",{on:{click:function(e){t.value=25}}},[t._v("25%")]),o("span",{on:{click:function(e){t.value=50}}},[t._v("50%")]),o("span",{on:{click:function(e){t.value=75}}},[t._v("75%")]),o("span",{on:{click:function(e){t.value=100}}},[t._v("100%")])])],1),o("img",{attrs:{src:n("2bc3")},on:{click:t.switchToken}})]),o("div",{staticClass:"input"},[o("van-field",{attrs:{type:"number",readonly:"",placeholder:t.$t("transaction.text3")},model:{value:t.token1Amount,callback:function(e){t.token1Amount=e},expression:"token1Amount"}}),o("i"),o("div",{staticClass:"select",on:{click:function(e){return t.openSearch("token1")}}},[o("img",{attrs:{src:t.token1.logo}}),o("div",[o("span",{domProps:{textContent:t._s(t.token1.symbol)}}),o("img",{attrs:{src:n("9283")}})])])],1),o("div",{staticClass:"rate"},[o("div",[o("div",[o("span",[t._v(t._s(t.$t("transaction.text4"))+" 1"+t._s(t.token0.symbol)+" ≈ "+t._s(t.token1Rate.toFixed(6))+t._s(t.token1.symbol))]),o("img",{attrs:{src:n("8029")}})]),"zh"===t.$i18n.locale?o("span",[t._v(t._s(t.$t("transaction.text13"))+" "),o("span",[t._v(t._s(t.gasPrice))])]):o("span",[t._v("Fee "),o("span",[t._v(t._s(t.gasPrice))])])])]),o("div",{staticClass:"button"},[o("img",{attrs:{src:n("92f8")},on:{click:t.openSetting,change:t.changeDeadline}}),o("van-button",{directives:[{name:"show",rawName:"v-show",value:!t.inTransaction&&!t.inApprove&&!t.invalidPair,expression:"!inTransaction && !inApprove && !invalidPair"}],staticClass:"exchange",attrs:{type:"info",disabled:t.disabled},on:{click:t.exchange}},[t._v(t._s(t.$t("transaction.text5")))]),o("van-button",{directives:[{name:"show",rawName:"v-show",value:t.inApprove&&!t.inTransaction&&!t.invalidPair,expression:"inApprove && !inTransaction && !invalidPair"}],attrs:{disabled:"",loading:"","loading-type":"spinner","loading-text":t.$t("transaction.text6")}}),o("van-button",{directives:[{name:"show",rawName:"v-show",value:t.inTransaction&&!t.inApprove&&!t.invalidPair,expression:"inTransaction && !inApprove && !invalidPair"}],attrs:{disabled:"",loading:"","loading-type":"spinner","loading-text":t.$t("transaction.text7")}}),o("van-button",{directives:[{name:"show",rawName:"v-show",value:t.invalidPair,expression:"invalidPair"}],attrs:{disabled:""}},[t._v(t._s(t.$t("transaction.text16")))])],1)])]),t._l(t.records,(function(e){return o("div",{key:e,staticClass:"record"},[o("div",[o("div",{staticClass:"from"},[o("span",[t._v(t._s(t.$t("transaction.text17")))]),o("span",{domProps:{textContent:t._s(e.date)}})]),o("div",{staticClass:"to"},[o("div",[o("span",{domProps:{textContent:t._s(e.inSymbol)}}),o("span",{domProps:{textContent:t._s(e.inAmount)}})]),o("img",{attrs:{src:n("1ace")}}),o("div",[o("span",{domProps:{textContent:t._s(e.outSymbol)}}),o("span",{domProps:{textContent:t._s(e.outAmount)}})])])])])}))],2),o("transation-state",{attrs:{state:t.transactionState,from:{amount:t.token0Amount,symbol:t.token0.symbol},to:{amount:t.token1Amount,symbol:t.token1.symbol},"slip-point":t.slipPoint,min:t.amountOutMin,"to-price":t.token1Rate,"from-price":t.token0Rate},on:{exchange:t.sendTokenTransaction,close:t.close}}),o("search-tokens",{ref:"searchTokens",on:{select:t.select}}),o("trading-setup",{ref:"tradingSetup",on:{change:t.changeDeadline}})],1)},a=[],s=(n("99af"),n("4160"),n("caad"),n("fb6a"),n("0d03"),n("a9e3"),n("b680"),n("159b"),n("4795"),n("96cf"),n("1da1")),i=n("5530"),r=(n("d3b7"),n("aca7")),c={components:{"search-tokens":function(){return Promise.resolve().then(n.bind(null,"bab4"))},"trading-setup":function(){return Promise.resolve().then(n.bind(null,"0430"))},"transation-state":function(){return Promise.resolve().then(n.bind(null,"5942"))},JoinFundPool:function(){return Promise.resolve().then(n.bind(null,"1500"))}},data:function(){return{interval:-1,token0:r["a"],token1:r["b"],balance:0,token0Amount:"",token1Amount:"",token0Rate:"--",token1Rate:"--",gasPrice:"0.3%",ERC20Contract:null,pairAddress:null,pairContract:null,allowance:0,inputing:!1,deadline:600,slipPoint:2,amountOutMin:0,records:[],value:0,transactionState:"none",liquidity:!1,reserve0:0,reserve1:0}},computed:{invalidPair:function(){return!this.pairAddress||this.reserve0.toBN().lt("0.1".toWei(this.token0.decimals))||this.reserve1.toBN().lt("0.1".toWei(this.token1.decimals))}},watch:{value:function(){var t=(this.balance/100*this.value).toFixed(6);this.token0Amount=t||"",this.input()}}},u=n("e549"),d=n("b9cc"),l=Object(i["a"])(Object(i["a"])({},c),{},{created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$address&&(t.init(),t.interval=setInterval((function(){"none"===t.transactionState&&t.init()}),1e4));case 1:case"end":return e.stop()}}),e)})))()},methods:{init:function(){var t=this.$route.query;t.token?this.select({token:JSON.parse(t.token),who:"token1"}):this.select({token:this.token0,who:"token0"}),this.getTransactions()},close:function(){this.token0Amount="",this.token1Amount="",this.transactionState="none"},toInfo:function(){this.$router.push({path:"/tokenInfo",query:{token0:JSON.stringify(this.token0),token1:JSON.stringify(this.token1)}})},openSearch:function(t){this.$refs.searchTokens.open(t)},openSetting:function(){this.$refs.tradingSetup.open()},changeDeadline:function(t){var e=t.slipPoint,n=t.deadline;this.slipPoint=e,this.deadline=n},select:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var o,a,i,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:o=t.token,a=t.who,e[a]=o,i=new e.$web3.BatchRequest,c=new e.$web3.eth.Contract(d,e.token0.address),i.add(e.$web3.eth.getBlockNumber.request()),e.token0.symbol===r["a"].symbol?i.add(e.$web3.eth.getBalance.request(e.$address,"latest")):i.add(c.methods.balanceOf(e.$address).call.request({from:e.$address})),i.add(e.$Factory.methods.getPair(e.token0.address,e.token1.address).call.request({from:e.$address})),i.add(c.methods.allowance(e.$address,e.$Router._address).call.request({from:e.$address})),i.requestManager.sendBatch(i.requests,(function(t,n){if(!t){var o=n[2].result.decode(["address"]);if(e.balance=n[1].result.fromWei(e.token0.decimals),e.pairAddress=0!==Number(o)?o:null,e.pairContract=0!==Number(o)?new e.$web3.eth.Contract(u,o):null,e.allowance=n[3].result.fromWei(e.token0.decimals),e.pairAddress){var a=new e.$web3.BatchRequest;a.add(e.$web3.eth.getBlockNumber.request()),a.add(e.$Router.methods.getAmountsOut("1".toWei(e.token0.decimals),[e.token0.address,e.token1.address]).call.request({from:e.$address})),a.add(e.$Router.methods.getAmountsOut("1".toWei(e.token1.decimals),[e.token1.address,e.token0.address]).call.request({from:e.$address})),a.add(e.pairContract.methods.getReserves().call.request({from:e.$address})),a.requestManager.sendBatch(a.requests,function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n,o){var a,s,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n||(a=o[3].result.decode([{type:"uint112",name:"_reserve0"},{type:"uint112",name:"_reserve1"}]),s=a._reserve0,i=a._reserve1,r=e.token0.address.toBN().lt(e.token1.address.toBN()),e.token1Rate=o[1].result.decode(["uint[]"])[1].fromWei(e.token1.decimals),e.token0Rate=o[2].result.decode(["uint[]"])[1].fromWei(e.token0.decimals),e.reserve0=r?s:i,e.reserve1=r?i:s);case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}}})),e.input();case 10:case"end":return n.stop()}}),n)})))()},getTransactions:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[],e.next=3,Object(r["c"])(t.$address);case 3:o=e.sent.slice(0,3),o.forEach((function(e){var o;o="0x7ff36ab5"===e.input.slice(0,10)?Object(i["a"])(Object(i["a"])({},e.input.slice(10).decode([{type:"uint",name:"amountOutMin"},{type:"address[]",name:"path"}])),{},{amountIn:e.value,date:t.formatDate(e.timeStamp)}):Object(i["a"])(Object(i["a"])({},e.input.slice(10).decode([{type:"uint",name:"amountIn"},{type:"uint",name:"amountOutMin"},{type:"address[]",name:"path"}])),{},{date:t.formatDate(e.timeStamp)}),n.push(o)})),a=new t.$web3.BatchRequest,a.add(t.$web3.eth.getBlockNumber.request()),n.forEach((function(e){var n=new t.$web3.eth.Contract(d,e.path[0]),o=new t.$web3.eth.Contract(d,e.path[1]);a.add(n.methods.symbol().call.request({from:t.$address})),a.add(n.methods.decimals().call.request({from:t.$address})),a.add(o.methods.symbol().call.request({from:t.$address})),a.add(o.methods.decimals().call.request({from:t.$address}))})),a.requestManager.sendBatch(a.requests,function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(o,a){var s,i,c,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!o){for(s=[],i=0,c=1;c<a.length;c+=4)u=a[c].result.decode(["string"]),d=a[c+2].result.decode(["string"]),s.push({inSymbol:u==="W".concat(r["a"].symbol)?r["a"].symbol:u,outSymbol:d==="W".concat(r["a"].symbol)?r["a"].symbol:d,inAmount:n[i].amountIn.fromWei(a[c+1].result.decode(["uint8"])).toFixed(6),outAmount:n[i].amountOutMin.fromWei(a[c+3].result.decode(["uint8"])).toFixed(6),date:n[i].date}),i++;t.records=s}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 9:case"end":return e.stop()}}),e)})))()},exchange:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.token0Amount.toBN().gt(t.balance)){e.next=2;break}return e.abrupt("return",vant.Toast.fail(t.$t("transaction.text12")));case 2:t.token0.symbol===r["a"].symbol?t.swapExactETHForTokens():t.token0Amount.toBN().gt(t.allowance)?t.approve():t.sendTokenTransaction();case 3:case"end":return e.stop()}}),e)})))()},sendTokenTransaction:function(){this.token1.symbol===r["a"].symbol?this.swapExactTokensForETH():this.swapExactTokensForTokens()},switchToken:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.token0,t.token0=t.token1,t.token1=n,t.select({token:n,who:"token1"});case 4:case"end":return e.stop()}}),e)})))()},input:function(){var t=this;if(this.invalidPair)return!1;if(["","0"].includes(this.token0Amount))return this.token1Amount="",this.disabled=!0,this.gasPrice="0.3%",!1;if(this.inputing)return!1;this.inputing=!0,this.disabled=!1;var e=setTimeout(Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!(t.token0Amount.length>0)){n.next=5;break}return t.gasPrice="".concat(t.token0Amount.toBN().times(.003).toFixed().toFixed(t.token0.decimals)," ").concat(t.token0.symbol),n.next=4,t.$Router.methods.getAmountsOut(t.token0Amount.toWei(t.token0.decimals),[t.token0.address,t.token1.address]).call({from:t.$address});case 4:t.token1Amount=n.sent[1].fromWei(t.token1.decimals);case 5:t.inputing=!1,clearTimeout(e);case 7:case"end":return n.stop()}}),n)}))),1e3)},approve:function(){var t=this,e=new this.$web3.eth.Contract(d,this.token0.address);e.methods.approve(this.$Router._address,this.token0Amount.toWei(this.token0.decimals).toBN().times(10).toFixed()).send({from:this.$address}).on("transactionHash",(function(e){t.transactionState="approve",localStorage.setItem("transaction",JSON.stringify({hash:e,type:"inApprove"}))})).on("receipt",(function(e){t.transactionState="approved",localStorage.removeItem("transaction")})).on("error",(function(e){vant.Toast.fail("交易失败！"),t.transactionState="none",localStorage.removeItem("transaction")}))},swapExactETHForTokens:function(){var t=this,e=Math.floor((new Date).getTime()/1e3)+this.deadline,n=this.token1Amount.toWei(this.token1.decimals).toBN(),o=n.minus(n.div(100).times(this.slipPoint)).toFixed(0);this.amountOutMin=o.fromWei(this.token1.decimals).toFixed(4),this.$Router.methods.swapExactETHForTokens(o,[this.token0.address,this.token1.address],this.$address,e).send({from:this.$address,value:this.token0Amount.toWei(this.token0.decimals)}).on("transactionHash",(function(e){t.transactionState="in",localStorage.setItem("transaction",JSON.stringify({hash:e,type:"localTransaction",info:{from:{symbol:t.token0.symbol,amount:t.token0Amount},to:{symbol:t.token1.symbol,amount:t.token1Amount}}}))})).on("receipt",(function(e){t.transactionState="done",localStorage.removeItem("transaction")})).on("error",(function(e){vant.Toast.fail("交易失败！"),t.transactionState="none",localStorage.removeItem("transaction")}))},swapExactTokensForETH:function(){var t=this,e=Math.floor((new Date).getTime()/1e3)+this.deadline,n=this.token1Amount.toWei(this.token1.decimals).toBN(),o=n.minus(n.div(100).times(this.slipPoint)).toFixed(0);this.amountOutMin=o.fromWei(this.token1.decimals).toFixed(4),this.$Router.methods.swapExactTokensForETH(this.token0Amount.toWei(this.token0.decimals),o,[this.token0.address,this.token1.address],this.$address,e).send({from:this.$address}).on("transactionHash",(function(e){t.transactionState="in",localStorage.setItem("transaction",JSON.stringify({hash:e,type:"localTransaction",info:{from:{symbol:t.token0.symbol,amount:t.token0Amount},to:{symbol:t.token1.symbol,amount:t.token1Amount}}}))})).on("receipt",(function(e){t.transactionState="done",localStorage.removeItem("transaction")})).on("error",(function(e){vant.Toast.fail("交易失败！"),t.transactionState="none",localStorage.removeItem("transaction")}))},swapExactTokensForTokens:function(){var t=this,e=Math.floor((new Date).getTime()/1e3)+this.deadline,n=this.token1Amount.toWei(this.token1.decimals).toBN(),o=n.minus(n.div(100).times(this.slipPoint)).toFixed(0);this.amountOutMin=o.fromWei(this.token1.decimals).toFixed(4),this.$Router.methods.swapExactTokensForTokens(this.token0Amount.toWei(this.token0.decimals),o,[this.token0.address,this.token1.address],this.$address,e).send({from:this.$address}).on("transactionHash",(function(e){t.transactionState="in",localStorage.setItem("transaction",JSON.stringify({hash:e,type:"localTransaction",info:{from:{symbol:t.token0.symbol,amount:t.token0Amount},to:{symbol:r["a"].symbol,amount:t.token1Amount}}}))})).on("receipt",(function(e){t.transactionState="done",localStorage.removeItem("transaction")})).on("error",(function(e){vant.Toast.fail("交易失败！"),t.transactionState="none",localStorage.removeItem("transaction")}))},formatDate:function(t){function e(t){return t<10?"0".concat(t):t}var n=new Date(1e3*Number(t)),o=n.getFullYear(),a=e(n.getMonth()+1),s=e(n.getDate()),i=e(n.getHours()),r=e(n.getMinutes());return"".concat(o,"/").concat(a,"/").concat(s," ").concat(i,":").concat(r)}},destroyed:function(){clearInterval(this.interval)}}),m=l,h=m,p=(n("969f"),n("d3d1"),n("2877")),v=Object(p["a"])(h,o,a,!1,null,"0a4c3428",null);e["default"]=v.exports},"969f":function(t,e,n){"use strict";n("ddc5")},c14f:function(t,e,n){},d3d1:function(t,e,n){"use strict";n("c14f")},ddc5:function(t,e,n){}}]);